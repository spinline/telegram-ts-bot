# Frontend Nixpacks Configuration
# Using Node.js 22.13+ (Vite requirement: 22.12+)

[phases.setup]
nixPkgs = ["nodejs_22"]

[phases.install]
cmds = [
  "node --version",
  "npm ci"
]

[phases.build]
cmds = [
  "npm run build"
]

[start]
cmd = "npm start"

[variables]
PORT = "3000"

# Build-time Node.js version override
# Note: This sets the environment variable but Nixpacks may still use nodejs_22 from nixpkgs
# For guaranteed version control, set NIXPACKS_NODE_VERSION in Dokploy's Environment Variables UI

